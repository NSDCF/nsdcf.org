.header
  background: none
  padding: scale("base") $gutter
  position: absolute
  left: 0
  top: 0
  width: 100%

  +respond("desktop")
    background: none
    padding: 0 scale("base")
    position: fixed
    // height and width are reversed after transform; header is rotated
    width: 100vh
    height: $navwidth
    transform: rotate(-90deg) translateX(-100%)
    transform-origin: left top
    z-index: z-index("header")

  &__inner
    display: flex
    align-items: center
    justify-content: space-between
    +respond("desktop")
      align-items: center
      height: 100%

.hamburger
  display: flex
  order: 2
  width: $gutter
  height: 1.125em
  flex-direction: column
  justify-content: space-between
  cursor: pointer
  transition: transform 350ms ease-out

  +respond("desktop")
    order: 3
    transform: rotate(90deg)

  &--active
    transform: rotate(-45deg)

    .hamburger__line--start
      transform: rotate(-90deg) translateX(5px)

    .hamburger__line--end
      transform: rotate(-90deg) translateX(-5px)

  &__line
    background-color: color("primary")
    border-radius: 2px
    height: 4px
    width: 100%

    .page--dark &
      background-color: color("background")

    &--start
      transition: transform 350ms cubic-bezier(0.54, -0.81, 0.57, 0.57)
      transform-origin: right
      width: 50%

    &--end
      align-self: flex-end
      transition: transform 350ms cubic-bezier(0.54, -0.81, 0.57, 0.57)
      transform-origin: left
      width: 50%

.header-logo
  flex: 1
  order: 1

  +respond("desktop")
    flex: none
    order: 1

  &__link
    color: color("primary")
    font-size: scale(h4)
    +logo-name

    .page--dark &
      color: color("background")

    +respond("desktop")
      display: block
      font-size: scale(h4)
      color: color("primary")

      .page--dark &
        color: color("background")

        &:hover
          color: color("background")

      &:hover
        color: color("primary", "light")

.nav-overlay
  background: color(primary, light)
  display: none

  +respond("desktop")
    background: color(primary) url(/images/knight-icon.svg) no-repeat left -25% bottom 85%
    background-size: auto 150%
    position: fixed
    height: 100vh
    width: 100vw
    padding: scale(large) scale(large) scale(h1) scale(large)*2
    display: none
    z-index: z-index("nav-overlay")

  &--active
    display: block

    +respond("desktop")
      display: flex

.nav
  margin: 0
  padding: 0
  list-style: none

  +respond("desktop")
    align-self: flex-end

  &__link
    display: block
    padding: scale(small) $gutter
    color: color(background)

    &:hover
      color: color(accent)

    +respond("desktop")
      font-family: $family-serif
      font-size: scale(h1)
      line-height: $base-line--headings
      padding: 0
