.header
  background: color("primary", "base")
  padding: scale("small") $gutter
  +respond(desktop)
    background: color("background", "base")
    padding: 0 scale("base")
    position: fixed
    // height and width are reversed after transform; header is rotated
    width: 100vh
    height: $navwidth
    transform: rotate(-90deg) translateX(-100%)
    transform-origin: left top
    z-index: z-index("header")
  a
    @extend %reversed-link


.header__inner
  display: flex
  align-items: center
  justify-content: space-between
  +respond("desktop")
    align-items: center
    height: 100%
    // padding fixes annoying alignment issue with "NSDCF" font
    padding-left: 1px


.nav-icon
  display: flex
  order: 2
  width: 1.3em
  height: 1em
  flex-direction: column
  justify-content: space-between
  cursor: pointer
  transition: transform 350ms ease-out
  +respond("desktop")
    order: 3
    transform: rotate(90deg)

  &--active
    transform: rotate(-45deg)
    .nav-icon__line
      +respond("mobile-only")
        background-color: color("accent", "base")
    .nav-icon__line--start
      transform: rotate(-90deg) translateX(3px)
    .nav-icon__line--end
      transform: rotate(-90deg) translateX(-3px)

  &__line
    background-color: color("background", "base")
    border-radius: 3px
    width: 100%
    height: 4px
    +respond("desktop")
      background-color: color("primary", "base")

    &--start
      transition: transform 350ms cubic-bezier(0.54, -0.81, 0.57, 0.57)
      transform-origin: right
      width: 50%

    &--end
      align-self: flex-end
      transition: transform 350ms cubic-bezier(0.54, -0.81, 0.57, 0.57)
      transform-origin: left
      width: 50%


.header-logo-name
  order: 1
  flex: 1
  +respond("desktop")
    flex: none
    order: 1

  &__link
    color: color("background", "base")
    &:hover
      color: color("accent", "base")
    +respond("desktop")
      display: block
      font-size: scale(h4)
      color: color("primary", "base")
      &:hover
        color: color("primary", "light")


.nav-overlay
  background: color(primary, light)
  display: none
  +respond(desktop)
    background: color(primary, base)
    position: fixed
    height: 100vh
    width: 100vw
    padding: scale(big) scale(big) scale(h1) scale(big)*2
    display: none
    z-index: z-index("nav-overlay")
  &--active
    display: block
    +respond(desktop)
      display: flex

.nav
  margin: 0
  padding: 0
  list-style: none
  +respond(desktop)
    align-self: flex-end

  &__link
    display: block
    padding: scale(small) $gutter
    color: color(background, base)
    &:hover
      color: color(accent, base)
    +respond(desktop)
      font-family: $family-serif
      font-size: scale(h1)
      line-height: $base-line-headings
      padding: 0
